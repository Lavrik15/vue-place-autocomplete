(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t():"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["VuePlaceAutocomplete"]=t():e["VuePlaceAutocomplete"]=t()})("undefined"!==typeof self?self:this,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"00c4":function(e,t,n){"use strict";var i=n("aac5"),r=n.n(i);r.a},"0f2a":function(e,t,n){},"3b67":function(e,t,n){},5780:function(e,t,n){"use strict";var i=n("0f2a"),r=n.n(i);r.a},"5a2f":function(e,t,n){"use strict";var i=n("6d86"),r=n.n(i);r.a},"6d86":function(e,t,n){},"9d01":function(e,t,n){"use strict";var i=n("ce8e"),r=n.n(i);r.a},aac5:function(e,t,n){},ce8e:function(e,t,n){},e75e:function(e,t,n){"use strict";var i=n("3b67"),r=n.n(i);r.a},f6fd:function(e,t){(function(e){var t="currentScript",n=e.getElementsByTagName("script");t in e||Object.defineProperty(e,t,{get:function(){try{throw new Error}catch(i){var e,t=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(i.stack)||[!1])[1];for(e in n)if(n[e].src==t||"interactive"==n[e].readyState)return n[e];return null}}})})(document)},fb15:function(e,t,n){"use strict";var i;(n.r(t),"undefined"!==typeof window)&&(n("f6fd"),(i=window.document.currentScript)&&(i=i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=i[1]));function r(...e){return Object.assign(...e)}function o(e){return null===e}function s(e){return Array.isArray(e)}function a(e){return"object"===typeof e&&!o(e)&&!s(e)}parseInt;Math.max,Math.min;function l(e){return"number"===typeof e||!!e&&"[object Number]"===e.toString()}function c(e){return l(e)||!!e&&!s(e)&&!!e.toString().match(/^-?[\d.,]+$/)}function u(e){return c(e)?parseFloat(e):e}function d(e,t){for(const n in e)t(e[n],u(n))}function p(e){return!0===e||!1===e}function f(e){return"undefined"===typeof e}function m(e){return s(e)?0===e.length:a(e)?0===Object.keys(e).length:""===e||o(e)||f(e)}function h(e){return e&&e.replace?e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").replace(/_/g,"-").toLowerCase():null}function y(e,t){const n={};return d(e,(e,i)=>{n[t(e,i)]=e}),n}var v=function(e,t="px"){return isFinite(e)?e+t:e};const b={street:["street_number","route","intersection"],city:["locality"],state:["administrative_area_level_1"],zip:["postal_code"],zipcode:["postal_code"],county:["administrative_area_level_2"]};function g(e,t){return e.filter(e=>-1!==t.indexOf(e)).filter((e,t,n)=>n.indexOf(e)===t)}function x(e,t,n){if(n[e])return n[e];if("latitude"===e)return n.geometry.location.lat();if("longitude"===e)return n.geometry.location.lng();const i=b[e]||(s(e)?e:[e]),r=n.address_components.map(e=>{if(g(e.types,i).length)return e[t.short?"short_name":"long_name"]}).filter(e=>!!e);return r.length?r.join(" "):null}function S(e,t,n){const i=e.expression.split("."),r=i.pop(),o=i.reduce((e,t)=>e[t],t.context);return n=s(n)?n.join(" "):n,e.modifiers.query&&(t.componentInstance.query=n),o[r]=n,n}var $={bind(e,t,n){n.componentInstance.$on("autocomplete-select",(e,i)=>{n.context.$nextTick(()=>{S(t,n,x(t.arg,t.modifiers,i))})})}},_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"autocomplete-field",on:{keydown:e.onKeydown,keyup:e.onKeyup}},["checkbox"===e.$attrs.type?n("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"},{name:"bind-events",rawName:"v-bind-events"}],attrs:{label:e.label,errors:e.errors,custom:e.custom,autocomplete:"no","input-class":e.inputClass,type:"checkbox"},domProps:{value:e.value,checked:Array.isArray(e.query)?e._i(e.query,e.value)>-1:e.query},on:{blur:e.onBlur,focus:e.onFocus,input:function(t){return e.$emit("input",e.query)},change:function(t){var n=e.query,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e.value,s=e._i(n,o);i.checked?s<0&&(e.query=n.concat([o])):s>-1&&(e.query=n.slice(0,s).concat(n.slice(s+1)))}else e.query=r}}},"input",e.$attrs,!1)):"radio"===e.$attrs.type?n("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"},{name:"bind-events",rawName:"v-bind-events"}],attrs:{label:e.label,errors:e.errors,custom:e.custom,autocomplete:"no","input-class":e.inputClass,type:"radio"},domProps:{value:e.value,checked:e._q(e.query,e.value)},on:{blur:e.onBlur,focus:e.onFocus,input:function(t){return e.$emit("input",e.query)},change:function(t){e.query=e.value}}},"input",e.$attrs,!1)):n("input",e._b({directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"},{name:"bind-events",rawName:"v-bind-events"}],attrs:{label:e.label,errors:e.errors,custom:e.custom,autocomplete:"no","input-class":e.inputClass,type:e.$attrs.type},domProps:{value:e.value,value:e.query},on:{blur:e.onBlur,focus:e.onFocus,input:[function(t){t.target.composing||(e.query=t.target.value)},function(t){return e.$emit("input",e.query)}]}},"input",e.$attrs,!1)),e.showActivityIndicator?n("activity-indicator",{attrs:{size:"xs",type:"spinner"}}):e._e(),e.predictions&&e.showPredictions?n("place-autocomplete-list",{attrs:{items:e.predictions},on:{"item:click":e.onItemClick,"item:blur":e.onItemBlur}}):e._e()],1)},w=[];function C(e){const t=new window.google.maps.Geocoder;return new Promise((n,i)=>{e.geometry?n([e]):t.geocode(e,(e,t)=>{t===window.google.maps.GeocoderStatus.OK?n(e):i(t)})})}const E={};function q(e){const t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("type","text/javascript"),t.setAttribute("charset","utf-8"),t}function k(e){return document.querySelector("head")?document.querySelector("head").appendChild(e):document.querySelector("body").appendChild(e),e}function A(e){return E[e]instanceof Promise?E[e]:E[e]||document.querySelector(`script[src="${e}"]`)?new Promise((t,n)=>{t(E[e])}):(E[e]=new Promise((t,n)=>{try{k(q(e)).addEventListener("load",n=>{t(E[e]=n)})}catch(i){n(i)}}),E[e])}var I=A,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"autocomplete-list-wrapper"},[n("ul",{staticClass:"autocomplete-list"},e._l(e.items,(function(t,i){return n("place-autocomplete-list-item",{key:t.id,attrs:{item:t},on:{click:e.onClick,focus:e.onFocus,blur:e.onBlur}},[e._v(" "+e._s(t[e.display])+" ")])})),1)])},B=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"autocomplete-list-item",on:{focus:e.onFocus,onBlur:e.onBlur}},[n("a",{attrs:{href:"#",tabindex:"0"},on:{click:function(t){return t.preventDefault(),e.onClick(t)},focus:e.onFocus,blur:e.onBlur}},[n("span",{staticClass:"autocomplete-list-item-icon"}),n("span",{staticClass:"autocomplete-list-item-label"},[e._t("default")],2)])])},O=[],F={name:"place-autocomplete-list-item",props:{item:Object},methods:{onBlur(e){this.$emit("blur",e,this)},onClick(e){this.$emit("click",e,this)},onFocus(e){this.$emit("focus",e,this)}}},N=F;n("5a2f");function L(e,t,n,i,r,o,s,a){var l,c="function"===typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,this.$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}var T=L(N,j,O,!1,null,null,null),z=T.exports,R={name:"place-autocomplete-list",components:{PlaceAutocompleteListItem:z},props:{items:{type:Array,default:()=>[]},display:{type:String,default:"description"}},methods:{onBlur(e,t){this.$emit("item:blur",e,t)},onFocus(e,t){this.$emit("item:focus",e,t)},onClick(e,t){this.$emit("item:click",e,t)}}},K=R,D=L(K,P,B,!1,null,null,null),H=D.exports;function M(e,t,n="-"){const i=(e,i)=>{const r=(i||e).replace(new RegExp(`^${t}${n}?`),"");return[t,r].filter(e=>!!e).join(n)};return p(e)?e:a(e)?y(e,i):i(e)}var W=M,U={computed:{colorableClasses(){const e={};for(let t in this.$attrs)(t.match(/^bg|text|border|bg-gradient-/)&&this.$attrs[t]||void 0===this.$attrs[t])&&(e[t]=!0);return e}}},G=U,V={methods:{mergeClasses(){let e={};return d([].slice.call(arguments),t=>{a(t)?r(e,t):s(t)?e=e.concat(t):t&&(e[t]=!0)}),e}}},X=V;const Z="is-empty",J="has-focus",Q="has-changed",Y="custom";function ee(e,t,n){t.context.$el.classList.add(n)}function te(e,t,n){t.context.$el.classList.remove(n)}function ne(e,t){(m(e.value)||"SELECT"===e.tagName&&-1===e.selectedIndex)&&ee(e,t,Z)}var ie,re,oe,se,ae={inheritAttrs:!1,mixins:[G,X],props:{activity:{type:Boolean,default:!1},custom:{type:Boolean,default:!1},label:[Number,String],value:{default:null},group:{type:Boolean,default:!0},error:[Boolean,String],errors:{type:Object,default(){return{}}},feedback:[String,Array],bindEvents:{type:Array,default(){return["focus","blur","change","click","keypress","keyup","keydown","progress","paste"]}},defaultControlClass:{type:String,default:"form-control"},labelClass:[Object,String],hideLabel:Boolean,invalid:Boolean,valid:Boolean,spacing:String,size:{type:String,default:"md",validate:e=>-1!==["sm","md","lg"].indexOf(e)},inline:Boolean,helpText:[Number,String]},directives:{bindEvents:{bind(e,t,n){function i(e,t){ee(e,n,Q),!m(t)||e.selectedIndex&&e.selectedIndex>-1?te(e,n,Z):e.classList.contains(Q)||ee(e,n,Z),"SELECT"===e.tagName&&e.querySelector('[value=""]')&&(e.querySelector('[value=""]').selected=!t)}n.context.$watch("value",e=>{i(n.context.$el,e)}),e.addEventListener("blur",t=>{e.classList.contains(Z)&&te(e,n,Q),te(e,n,J)}),e.addEventListener("change",e=>{i(e.target,e.target.value)}),e.addEventListener("focus",t=>{ee(e,n,J)}),d(n.context.bindEvents,t=>{e.addEventListener(t,e=>{n.context.$emit(t,e)})}),e.selectedIndex>=0&&e.setAttribute("data-selected-index",e.selectedIndex)},inserted(e,t,n){ne(e,n),"number"===typeof e.selectedIndex&&e.selectedIndex},update(e,t,n){ne(e,n)}}},methods:{blur(){this.getInputField()&&this.getInputField().blur()},focus(){this.getInputField()&&this.getInputField().focus()},getInputField(){return this.$el.querySelector(".form-control, input, select, textarea")},getFieldErrors(){let e=this.error||this.errors;return a(this.errors)&&(e=this.errors[this.$attrs.name||this.$attrs.id]),!e||s(e)||a(e)?e:[e]}},computed:{controlAttributes(){return Object.keys(this.$attrs).concat([["class",this.controlClasses]]).reduce((e,t)=>(s(t)?e[t[0]]=t[1]:e[t]=this[t]||this.$attrs[t],e),{})},controlClass(){return this.custom?this.customControlClass:this.defaultControlClass+(this.plaintext?"-plaintext":"")},controlSizeClass(){return W(this.size,this.controlClass)},customControlClass(){return"custom-control"},formGroupClasses(){const e=W(h(this.$options.name),this.custom?Y:"");return this.mergeClasses(e,W(this.size,e),{"has-activity":this.activity,"is-valid":!(!this.valid&&!this.validFeedback),"is-invalid":!(!this.invalid&&!this.invalidFeedback)})},controlClasses(){return this.mergeClasses(this.controlClass,this.colorableClasses,this.controlSizeClass,this.spacing||"",this.valid||this.validFeedback?"is-valid":"",this.invalid||this.invalidFeedback?"is-invalid":"")},hasDefaultSlot(){return!!this.$slots.default},invalidFeedback(){if(this.error)return this.error;const e=this.getFieldErrors();return s(e)?e.filter(e=>e&&"string"===typeof e).join("<br>"):e},validFeedback(){return s(this.feedback)?this.feedback.join("<br>"):this.feedback}}},le=ae,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.center?n("div",{staticClass:"center-wrapper",class:{"position-relative":e.relative,"position-fixed":e.fixed},style:e.style},[n("div",{staticClass:"center-content d-flex flex-column align-items-center"},[n(e.component,{tag:"component",attrs:{size:e.size,prefix:e.prefix}}),e.label?n("div",{staticClass:"activity-indicator-label",domProps:{innerHTML:e._s(e.label)}}):e._e()],1)]):n("div",{staticClass:"d-flex flex-column justify-content-center align-items-center",style:e.style},[n(e.component,{tag:"component",attrs:{size:e.size,prefix:e.prefix}}),e.label?n("div",{staticClass:"activity-indicator-label",domProps:{innerHTML:e._s(e.label)}}):e._e()],1)},ue=[],de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"activity-indicator",class:e.classes},e._l(e.nodes,(function(e){return n("div",{key:e})})),0)},pe=[],fe={props:{nodes:{type:Number,default:3},size:{type:String,default:""},prefix:{type:String,default:"activity-indicator-"}},computed:{classes:function(){const e={},t=h(this.$options.name);return e[t]=!!t,e[this.prefix+this.size.replace(this.prefix,"")]=!!this.size,e}}},me=fe,he=L(me,de,pe,!1,null,null,null),ye=he.exports,ve={name:"ActivityIndicatorDots",extends:ye},be=ve,ge=(n("e75e"),L(be,ie,re,!1,null,null,null)),xe=ge.exports,Se={name:"ActivityIndicatorSpinner",extends:ye,props:r({},ye.props,{nodes:{type:Number,default:12}})},$e=Se,_e=(n("9d01"),L($e,oe,se,!1,null,null,null)),we=_e.exports,Ce={name:"ActivityIndicator",components:{ActivityIndicatorDots:xe,ActivityIndicatorSpinner:we},extends:ye,props:{center:Boolean,fixed:Boolean,label:String,relative:Boolean,type:{type:String,default:"dots"},height:[String,Number],maxHeight:[String,Number],minHeight:[String,Number],width:[String,Number],maxWidth:[String,Number],minWidth:[String,Number]},computed:{style(){return{width:v(this.width),maxWidth:v(this.maxWidth),minWidth:v(this.minWidth),height:v(this.height),maxHeight:v(this.maxHeight),minHeight:v(this.minHeight)}},component(){return h(this.prefix+this.type.replace(this.prefix,""))}}},Ee=Ce,qe=(n("00c4"),L(Ee,ce,ue,!1,null,null,null)),ke=qe.exports,Ae=ke;const Ie={ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,SPACE:32,TAB:9},Pe=["bounds","location","component-restrictions","offset","radius","types"];var Be={name:"place-autocomplete-field",mixins:[le],components:{ActivityIndicator:Ae,PlaceAutocompleteList:H},watch:{value(e){this.query=e}},props:{apiKey:String,baseUri:{type:String,default:"https://maps.googleapis.com/maps/api/js"},componentRestrictions:{type:[Boolean,Object,String],default:!1},custom:Boolean,libraries:{type:Array,default(){return["geometry","places"]}},bounds:{type:[Boolean,Object,String],default:!1},location:{type:[Boolean,Object,String],default:!1},offset:{type:Boolean,default:!1},radius:{type:Boolean,default:!1},types:{type:[Boolean,Array],default:!1},inputClass:{type:String,default:""}},methods:{getInputElement(){return this.$el.querySelector("input")},getRequestOptions(){const e={input:this.getInputElement().value};return Pe.forEach(t=>{void 0===this[t]&&null===this[t]||(e[t]=this[t])}),e},select(e){C({placeId:e.place_id}).then(t=>{this.$emit("input",this.query=t[0].formatted_address),this.$emit("autocomplete-select",e,t[0])})},search(){return new Promise((e,t)=>{this.getInputElement().value?(this.showActivityIndicator=!0,this.$service.getPlacePredictions(this.getRequestOptions(),(n,i)=>{switch(this.showActivityIndicator=!1,i){case window.google.maps.places.PlacesServiceStatus.OK:e(n);break;default:t(new Error(`Error with status: ${i}`))}})):(this.predictions=!1,this.showPredictions=!1)})},hide(){this.showPredictions=!1},show(){this.showPredictions=!0},up(){const e=this.$el.querySelector("a:focus");if(e&&e.parentElement.previousElementSibling)e.parentElement.previousElementSibling.querySelector("a").focus();else{const e=this.$el.querySelectorAll("a");e[e.length-1].focus()}},down(){const e=this.$el.querySelector("a:focus");e&&e.parentElement.nextElementSibling?e.parentElement.nextElementSibling.querySelector("a").focus():this.$el.querySelector("a").focus()},onKeydown(e){const t=this.$el.querySelector("[tabindex]");t&&e.keyCode===Ie.TAB&&e.preventDefault()&&t.focus()},onKeyup(e){switch(e.keyCode){case Ie.ENTER:case Ie.SPACE:return void(this.$el.querySelector(".is-focused")&&this.$el.querySelector(".is-focused a").dispatchEvent(new Event("mousedown")));case Ie.ESC:return this.hide(),void this.getInputElement().blur();case Ie.UP:return this.up(),void e.preventDefault();case Ie.DOWN:return this.down(),void e.preventDefault()}this.search().then(e=>{this.predictions=e,this.showPredictions=!0},e=>{e&&(this.predictions=!1)})},onFocus(e){this.query&&(this.predictions.length||this.onKeyup(e),this.show())},onBlur(e){this.$el.contains(e.relatedTarget)||this.hide()},onItemBlur(e){this.onBlur(e)},onItemClick(e,t){this.select(t.item),this.predictions=!1}},mounted(){this.apiKey&&I(`${this.baseUri}?key=${this.apiKey}&libraries=${this.libraries.join(",")}`).then(()=>{this.$geocoder=new window.google.maps.Geocoder,this.$service=new window.google.maps.places.AutocompleteService,this.loaded=!0,this.$emit("loaded")})},data(){return{loaded:!1,predictions:!1,query:this.value,showPredictions:!1,showActivityIndicator:this.activity}}},je=Be,Oe=(n("5780"),L(je,_,w,!1,null,null,null)),Fe=Oe.exports,Ne=function(e){e.directive("place-autofill",$),e.component("place-autocomplete-field",Fe),e.component("place-autocomplete-list",H),e.component("place-autocomplete-list-item",z)};n.d(t,"PlaceAutofill",(function(){return $})),n.d(t,"PlaceAutocompleteField",(function(){return Fe})),n.d(t,"PlaceAutocompleteList",(function(){return H})),n.d(t,"PlaceAutocompleteListItem",(function(){return z}));t["default"]=Ne}})["default"]}));
//# sourceMappingURL=VuePlaceAutocomplete.umd.min.js.map